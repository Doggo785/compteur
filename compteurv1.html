<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compte Ã  Rebours Temporel</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400&display=swap');

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            overflow: hidden;
            position: relative;
            transition: background-color 1s ease;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 25px 25px;
            animation: background-pan 60s linear infinite;
        }

        @keyframes background-pan {
            from {
                background-position: 0 0;
            }

            to {
                background-position: 250px 250px;
            }
        }

        .container {
            width: 100%;
            max-width: 800px;
            background: rgba(30, 30, 30, 0.9);
            border-radius: 15px;
            padding: 30px 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            z-index: 1;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #c91616;
            text-shadow: 0 0 10px #c91616, 0 0 20px rgba(201, 22, 22, 0.5);
        }

        #countdown-timer {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8em;
            margin-bottom: 30px;
            color: #ffffff;
            letter-spacing: 2px;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 1.1em;
            font-weight: 400;
        }

        .progress-label .percentage {
            font-family: 'Orbitron', sans-serif;
            color: #00ffaa;
        }

        .progress-bar-bg {
            width: 100%;
            height: 25px;
            background-color: #333;
            border-radius: 25px;
            padding: 4px;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.4);
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            border-radius: 20px;
            background: linear-gradient(90deg, #00aaff, #00ffaa);
            /* === AMÃ‰LIORATION DE LA FLUIDITÃ‰ === */
            transition: width 0.1s linear;
        }

        #main-progress-bar-bg {
            height: 40px;
            padding: 5px;
            margin-top: 10px;
        }

        #main-progress-bar {
            background: linear-gradient(90deg, #ff4d4d, #ffa500, #ffff00, #00ffaa, #00aaff);
            background-size: 200% 100%;
            animation: gradient-animation 5s ease infinite;
            transition: width 0.5s ease-out;
            /* On garde une transition plus lente pour la barre principale */
        }

        @keyframes gradient-animation {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .small-bars-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .time-unit-container .progress-bar-bg {
            height: 20px;
        }

        .progress-bar-days {
            background: linear-gradient(90deg, #5ee6a8, #9bffd9);
            box-shadow: 0 0 10px #5ee6a8;
        }

        .progress-bar-hours {
            background: linear-gradient(90deg, #47a1ff, #81c7ff);
            box-shadow: 0 0 10px #47a1ff;
        }

        .progress-bar-minutes {
            background: linear-gradient(90deg, #ffb347, #ffcf81);
            box-shadow: 0 0 10px #ffb347;
        }

        .progress-bar-seconds {
            background: linear-gradient(90deg, #ff5e5e, #ff9b9b);
            box-shadow: 0 0 10px #ff5e5e;
        }

        .progress-bar-milliseconds {
            background: linear-gradient(90deg, #d85bff, #ff9bfb);
            box-shadow: 0 0 10px #d85bff;
            transition: none;
        }


        /* On enlÃ¨ve la transition pour la fluiditÃ© parfaite des ms */

        @media (max-width: 600px) {
            .small-bars-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2em;
            }

            #countdown-timer {
                font-size: 1.2em;
            }
        }

        @keyframes dropfox-fall {
            0% {
                top: 100%;
            }

            100% {
                top: -10%;
            }
        }

        @keyframes dropfox-shake {

            0%,
            100% {
                transform: translateX(0);
            }

            50% {
                transform: translateX(80px);
            }
        }

        .dropfoxy {
            z-index: 0;
            position: fixed;
            top: -10%;
            animation-name: dropfox-fall, dropfox-shake;
            animation-iteration-count: infinite, infinite;
            animation-timing-function: linear, ease-in-out;
            cursor: default;
            user-select: none;
            animation-play-state: running, running;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>ðŸ’€ DEADLINE ðŸ’€</h1>
        <div id="countdown-timer">-- jours --:--:--:--</div>

        <div class="progress-container">
            <div class="progress-label">
                <span>Progression Totale</span>
                <span class="percentage" id="main-progress-percentage">0.0000000%</span>
            </div>
            <div class="progress-bar-bg" id="main-progress-bar-bg">
                <div class="progress-bar" id="main-progress-bar"></div>
            </div>
        </div>

        <hr style="border-color: rgba(255,255,255,0.1); margin: 40px 0;">

        <div class="small-bars-grid">
            <div class="time-unit-container">
                <div class="progress-label">
                    <span>Jour</span>
                    <span class="percentage" id="hours-percentage">0%</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar progress-bar-hours" id="hours-bar"></div>
                </div>
            </div>
            <div class="time-unit-container">
                <div class="progress-label">
                    <span>Heure</span>
                    <span class="percentage" id="minutes-percentage">0%</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar progress-bar-minutes" id="minutes-bar"></div>
                </div>
            </div>
            <div class="time-unit-container">
                <div class="progress-label">
                    <span>Minute</span>
                    <span class="percentage" id="seconds-percentage">0%</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar progress-bar-seconds" id="seconds-bar"></div>
                </div>
            </div>
            <div class="time-unit-container">
                <div class="progress-label">
                    <span>Seconde</span>
                    <span class="percentage" id="milliseconds-percentage">0%</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar progress-bar-milliseconds" id="milliseconds-bar"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- PERSONNALISATION ---
        const dateDebut = new Date('2025-10-07T10:30:00');
        const dateCible = new Date('2025-10-10T13:30:00');
        const totalMillisecondesIntervalle = dateCible - dateDebut;
        // -------------------------

        // --- Mise en cache des Ã©lÃ©ments DOM ---
        const domElements = {
            mainProgressBar: document.getElementById('main-progress-bar'),
            mainProgressPercentage: document.getElementById('main-progress-percentage'),
            hoursBar: document.getElementById('hours-bar'),
            minutesBar: document.getElementById('minutes-bar'),
            secondsBar: document.getElementById('seconds-bar'),
            millisecondsBar: document.getElementById('milliseconds-bar'),
            hoursPercentage: document.getElementById('hours-percentage'),
            minutesPercentage: document.getElementById('minutes-percentage'),
            secondsPercentage: document.getElementById('seconds-percentage'),
            millisecondsPercentage: document.getElementById('milliseconds-percentage'),
            countdownTimer: document.getElementById('countdown-timer')
        };

        let lastSecond = -1;

        function updateMainProgressBar(maintenant) {
            const ecouleMillisecondes = maintenant - dateDebut;
            let pourcentageTotal = (ecouleMillisecondes / totalMillisecondesIntervalle) * 100;
            pourcentageTotal = Math.max(0, Math.min(100, pourcentageTotal));

            domElements.mainProgressBar.style.width = pourcentageTotal + '%';
            domElements.mainProgressPercentage.textContent = pourcentageTotal.toFixed(3) + '%';
        }

        function updateCountdownTimer(maintenant) {
            const currentSecond = maintenant.getSeconds();
            if (currentSecond !== lastSecond) {
                const tempsRestant = dateCible - maintenant;
                if (tempsRestant > 0) {
                    const jours = Math.floor(tempsRestant / (1000 * 60 * 60 * 24));
                    const heures = Math.floor((tempsRestant % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((tempsRestant % (1000 * 60 * 60)) / (1000 * 60));
                    const secondes = Math.floor((tempsRestant % (1000 * 60)) / 1000);
                    domElements.countdownTimer.textContent =
                        `${String(jours).padStart(2, '0')}j ${String(heures).padStart(2, '0')}h ${String(minutes).padStart(2, '0')}m ${String(secondes).padStart(2, '0')}s`;
                } else {
                    domElements.countdownTimer.textContent = "OBJECTIF ATTEINT !";
                }
                lastSecond = currentSecond;
            }
        }

        function updateIndividualTimeBars(maintenant) {
            const millisecondesActuelles = maintenant.getMilliseconds();
            const secondesActuelles = maintenant.getSeconds() + (millisecondesActuelles / 1000);
            const minutesActuelles = maintenant.getMinutes() + (secondesActuelles / 60);
            const heuresActuelles = maintenant.getHours() + (minutesActuelles / 60);

            const pourcentageMillisecondes = (millisecondesActuelles / 1000) * 100;
            const pourcentageSecondes = (secondesActuelles / 60) * 100;
            const pourcentageMinutes = (minutesActuelles / 60) * 100;
            const pourcentageHeures = (heuresActuelles / 24) * 100;

            domElements.millisecondsBar.style.width = pourcentageMillisecondes + '%';
            domElements.secondsBar.style.width = pourcentageSecondes + '%';
            domElements.minutesBar.style.width = pourcentageMinutes + '%';
            domElements.hoursBar.style.width = pourcentageHeures + '%';

            domElements.millisecondsPercentage.textContent = pourcentageMillisecondes.toFixed(0) + '%';
            domElements.secondsPercentage.textContent = pourcentageSecondes.toFixed(0) + '%';
            domElements.minutesPercentage.textContent = pourcentageMinutes.toFixed(2) + '%';
            domElements.hoursPercentage.textContent = pourcentageHeures.toFixed(2) + '%';
        }

        function miseAJourBarres() {
            const maintenant = new Date();
            
            updateMainProgressBar(maintenant);
            updateCountdownTimer(maintenant);
            updateIndividualTimeBars(maintenant);

            requestAnimationFrame(miseAJourBarres);
        }

        // On lance la boucle d'animation
        requestAnimationFrame(miseAJourBarres);

        // --- Randomisation des particules ---
        document.addEventListener('DOMContentLoaded', function() {
            const particleContainer = document.body; // Les particules seront ajoutÃ©es au body
            const numberOfParticles = 25; // Nombre de particules Ã  crÃ©er
            const emojiImages = [
                "https://cdn3.emoji.gg/emojis/PepeHands.png",
                "https://cdn.frankerfacez.com/emoticon/619207/4",
                "https://cdn3.emoji.gg/emojis/3808-prayge.png",
                "https://cdn3.emoji.gg/emojis/4042_shyemote.png",
                "https://cdn.frankerfacez.com/emoticon/381875/4",
                "https://cdn.7tv.app/emote/01F6MQ33FG000FFJ97ZB8MWV52/2x.avif",
                "https://cdn.7tv.app/emote/01FS5ZCFG0000500DPPCXJWCP8/2x.avif",
                "https://cdn.7tv.app/emote/01FB4S3QMG0001AXCAFYDEG758/2x.avif",
                "https://cdn.7tv.app/emote/01F6NM2T080003C6R1CKK0T0P2/2x.avif",
                "https://cdn.7tv.app/emote/01F2ZWD6CR000DSBG200DM9SGM/2x.avif",
                "https://cdn.7tv.app/emote/01F6PWXW5R0005589X3BDJC4QC/2x.avif",
                "https://cdn.7tv.app/emote/01F6Q72JSR0001K6WGNZJBARWS/2x.avif",
                "https://cdn.7tv.app/emote/01F6M5ZD3R0002B6P5MWZDK80C/2x.avif",
                "https://cdn.7tv.app/emote/01F6NMD520000AAS5FM9QEF9ZJ/2x.avif",
                "https://cdn.7tv.app/emote/01HQXFC5G00003SVFRS0KDHZYN/2x.avif",
                "https://cdn.7tv.app/emote/01F6RD7B88000B4N55W5NS55R7/2x.avif",
                "https://cdn.7tv.app/emote/01FG1NDHJR0001XDR7G9054X2Q/2x.avif",
                "https://cdn.7tv.app/emote/01F6N2WHKG000AR0YATR3ZV5X4/2x.avif",
                "https://cdn.7tv.app/emote/01F6SDAHC000053E74RSRY2AD2/2x.avif",
                "https://cdn.7tv.app/emote/01G3XH6QC00000CYEX22PC5CS6/2x.avif",
                "https://cdn.7tv.app/emote/01F71DN0VR0001G6FGBXSMY13C/2x.avif",
                "https://cdn.7tv.app/emote/01FS13P9T0000600V9N65KHQK7/2x.avif",
                "https://cdn.7tv.app/emote/01GHXY2RCR00025VZ4E5FVRZ3G/2x.avif"
            ];

            function createParticle() {
                const particle = document.createElement('div');
                particle.className = 'dropfoxy';
                const img = document.createElement('img');
                img.alt = 'particle';
                img.width = 64;
                img.height = 64;
                particle.appendChild(img);
                particleContainer.appendChild(particle);
                return particle;
            }

            function randomizeParticle(particle) {
                // Choisir une image alÃ©atoire
                const randomEmojiSrc = emojiImages[Math.floor(Math.random() * emojiImages.length)];
                const img = particle.querySelector('img');
                if (img) {
                    img.src = randomEmojiSrc;
                }

                const randomLeft = Math.random() * 100;
                const randomFallDelay = Math.random() * 10;
                const randomShakeDelay = Math.random() * 3;
                const randomFallDuration = 8 + Math.random() * 5;
                const randomShakeDuration = 2 + Math.random() * 2;

                particle.style.left = randomLeft + 'vw';
                particle.style.animationDelay = `${randomFallDelay}s, ${randomShakeDelay}s`;
                particle.style.animationDuration = `${randomFallDuration}s, ${randomShakeDuration}s`;

                // Forcer le redÃ©marrage propre de l'animation pour Ã©viter les "sauts"
                particle.style.animationName = 'none';
                void particle.offsetWidth; // Force le navigateur Ã  recalculer les styles
                particle.style.animationName = '';
            }

            const particles = Array.from({ length: numberOfParticles }, createParticle);

            particles.forEach(particle => {
                // Initialisation au chargement
                randomizeParticle(particle);

                // RÃ©initialiser au dÃ©but de chaque nouvelle itÃ©ration de l'animation de chute
                particle.addEventListener('animationiteration', function(e) {
                    if (e.animationName === 'dropfox-fall') {
                        randomizeParticle(particle);
                    }
                });
            });
        });

        // --- Changement de couleur de fond alÃ©atoire ---
        setInterval(() => {
            const randomHue = Math.floor(Math.random() * 360);
            // On reste dans des couleurs sombres (saturation basse, luminositÃ© basse) pour que le texte reste lisible
            const randomColor = `hsl(${randomHue}, 20%, 30%)`; 
            document.body.style.backgroundColor = randomColor;
        }, 1000); // Change toutes les secondes
    </script>

</body>

</html>